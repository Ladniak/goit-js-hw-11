{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = (imgInfo) => {\n    return `\n    <li class=\"gallery-card\">\n        <a href=\"${imgInfo.largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\">\n        </a>\n        <div class=\"info-div\">\n            <div class=\"info-one-template\">\n                <p class=\"name\">Likes</p>\n                <p>${imgInfo.likes}</p>\n            </div>\n            <div class=\"info-one-template\">\n                <p class=\"name\">Views</p>\n                <p>${imgInfo.views}</p>\n            </div>\n            <div class=\"info-one-template\">\n                <p class=\"name\">Comments</p>\n                <p>${imgInfo.comments}</p>\n            </div>\n            <div class=\"info-one-template\">\n                <p class=\"name\">Downloads</p>\n                <p>${imgInfo.downloads}</p>\n            </div>\n        </div>\n    </li>\n    `;\n};\n\n","const BASE_URL = 'https://pixabay.com';\n\nexport const fetchPhotos = searchQuery => {\n    const urlParams = new URLSearchParams({\n        key: '45500129-782b0efec7a4b6e4cb35c382f',\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(\n        `${BASE_URL}/api/?${urlParams}`\n    )\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        });\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport { createGalleryCard } from \"./js/render-functions\";\nimport { fetchPhotos } from \"./js/pixabay-api\";\n\nconst galleryEl = document.querySelector('.gallery');\nconst formElSearch = document.querySelector('.search-form'); \nconst loadEl = document.querySelector('span');\n\nconst onSearchSubmit = (event) => {\n    event.preventDefault();\n    loadEl.classList.remove(\"is-hidden\");\n\n    const searchFromInput = formElSearch.elements.user_query.value;\n\n    if (searchFromInput == '') {\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n        })\n\n        galleryEl.innerHTML = '';\n        formElSearch.reset();\n        loadEl.classList.add(\"is-hidden\");\n\n        return;\n    }\n        fetchPhotos(searchFromInput)\n        .then(data => {\n\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                })\n\n                galleryEl.innerHTML = '';\n                formElSearch.reset();\n                loadEl.classList.add(\"is-hidden\");\n\n                return;\n            }\n            \n            const galleryCardTemplate = data.hits.map(imgDetails => createGalleryCard(imgDetails)).join('');\n            galleryEl.innerHTML = galleryCardTemplate;\n\n            let gallery = new SimpleLightbox('.gallery a');\n            gallery.refresh();\n            gallery.on('show.simplelightbox', function () {});\n            \n        })\n        .catch(error => {\n            console.log(error);\n        })\n         .finally(() => {\n            loadEl.classList.add(\"is-hidden\");\n        });\n    \n    formElSearch.reset();\n};\n\nformElSearch.addEventListener('submit', onSearchSubmit);\n"],"names":["createGalleryCard","imgInfo","BASE_URL","fetchPhotos","searchQuery","urlParams","response","galleryEl","formElSearch","loadEl","onSearchSubmit","event","searchFromInput","iziToast","data","galleryCardTemplate","imgDetails","gallery","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAqBC,GACvB;AAAA;AAAA,mBAEQA,EAAQ,aAAa;AAAA,4CACIA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKjEA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,qBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,MCrBhCC,EAAW,sBAEJC,EAAcC,GAAe,CACtC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MACH,GAAGF,CAAQ,SAASG,CAAS,EAChC,EACI,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECRMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAS,SAAS,cAAc,MAAM,EAEtCC,EAAkBC,GAAU,CAC9BA,EAAM,eAAc,EACpBF,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAMG,EAAkBJ,EAAa,SAAS,WAAW,MAEzD,GAAII,GAAmB,GAAI,CACvBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACtB,CAAS,EAEDN,EAAU,UAAY,GACtBC,EAAa,MAAK,EAClBC,EAAO,UAAU,IAAI,WAAW,EAEhC,MACH,CACGN,EAAYS,CAAe,EAC1B,KAAKE,GAAQ,CAEV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAEDN,EAAU,UAAY,GACtBC,EAAa,MAAK,EAClBC,EAAO,UAAU,IAAI,WAAW,EAEhC,MACH,CAED,MAAMM,EAAsBD,EAAK,KAAK,IAAIE,GAAchB,EAAkBgB,CAAU,CAAC,EAAE,KAAK,EAAE,EAC9FT,EAAU,UAAYQ,EAEtB,IAAIE,EAAU,IAAIC,EAAe,YAAY,EAC7CD,EAAQ,QAAO,EACfA,EAAQ,GAAG,sBAAuB,UAAY,CAAE,CAAA,CAE5D,CAAS,EACA,MAAME,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EACC,QAAQ,IAAM,CACZV,EAAO,UAAU,IAAI,WAAW,CAC5C,CAAS,EAELD,EAAa,MAAK,CACtB,EAEAA,EAAa,iBAAiB,SAAUE,CAAc"}